import"../chunks/DsnmJJEf.js";import"../chunks/B298ACMR.js";import{w as me,o as pe,a as M,e as P}from"../chunks/B0ugiPo6.js";import{a7 as _e,I as x,a8 as fe,x as be,u as t,r as ge,a9 as he,p as we,aa as ke,ab as Me,ac as Pe,a4 as xe,a as y,b as ye,s as O,T as Y,f as C,a1 as l,a3 as n,a2 as c,$ as R,a5 as U,a6 as Oe,d as b,_ as S}from"../chunks/DN-Y5FX1.js";import{i as Z}from"../chunks/D5Qwt-z6.js";import{r as ee,e as Se,u as d,s as $e,b as Ae,i as Ee}from"../chunks/COAFtsAM.js";import{i as Ne}from"../chunks/DYACF6Ii.js";import{a as Te,s as z,b as ze}from"../chunks/D5Elu2hf.js";import{g as re}from"../chunks/CiOQUtVp.js";import{s as $,c as Ce}from"../chunks/DeJ2Ftms.js";function ae(r,a,g=a){var m=new WeakSet;_e(r,"input",async e=>{var s=e?r.defaultValue:r.value;if(s=W(r)?B(s):s,g(s),x!==null&&m.add(x),await fe(),s!==(s=a())){var v=r.selectionStart,p=r.selectionEnd;r.value=s??"",p!==null&&(r.selectionStart=v,r.selectionEnd=Math.min(p,r.value.length))}}),(be&&r.defaultValue!==r.value||t(a)==null&&r.value)&&(g(W(r)?B(r.value):r.value),x!==null&&m.add(x)),ge(()=>{var e=a();if(r===document.activeElement){var s=he??x;if(m.has(s))return}W(r)&&e===B(r.value)||r.type==="date"&&!e&&!r.value||e!==r.value&&(r.value=e??"")})}function W(r){var a=r.type;return a==="number"||a==="range"}function B(r){return r===""?null:+r}const qe=me([]),De="https://hebrews-coffee-website.onrender.com";async function je(r){try{const a=await fetch(De,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw new Error("Failed to add order");const g=await a.json();qe.update(m=>[...m,g])}catch(a){console.error("Error adding order:",a)}}var Fe=C("<option> </option>"),He=C("<p>Please enter name, phone number and pickup time</p>"),Ie=C('<div class="confirm-window"><div class="confirm-details"><div><strong> </strong></div> <p><strong>Espresso:</strong> </p> <p><strong>Milk:</strong> </p> <p><strong>Flavor:</strong> </p></div> <div class="confirm-sidebar"><div class="customizer-select"><input id="name-input" type="text" required/> <span class="border-text">Enter Name:</span></div> <div class="customizer-select"><input id="phone-input" type="tel" required/> <span class="border-text">Enter Phone Number:</span></div> <div class="customizer-select"><select class="bg-none" required></select> <span class="drop-arrow"><img src="/icons/simple_tailless_nav_arrow.svg" alt="Dropdown Arrow"/></span> <span class="border-text">Choose Pickup Time:</span></div> <!> <button class="bar-button">Place Order</button> <button class="bar-button">Edit Order</button></div></div>'),Le=C("<p>No order to confirm. Please go back and customize your drink.</p>");function Ye(r,a){we(a,!1);const[g,m]=Te(),e=()=>ze($,"$storedOrder",g),s=Y();let v=Y(!1),p=["9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM"];function te(){const i=new Date;for(const u in p){const h=new Date,[w,A]=u.split(" "),[q,k]=w.split(":").map(Number);let E=q%12;if(A==="PM"&&(E+=12),h.setHours(E,k,0,0),h>i)return u}return p[p.length-1]}function se(){if(!b(s)){O(v,!0);return}je(e());const i="/place-order/"+e().drink+"/confirm/order-confirmation";Ce(),re(i)}function oe(){console.log(e().drink);const i="/place-order/"+e().drink.toLowerCase().replace(/ /g,"-");re(i)}pe(()=>{z($,t(e).time_slot=te(),t(e))}),ke(()=>e(),()=>{O(s,e()&&(e().name??"").toString().trim().length>0&&(e().phone??"").toString().trim().length>0)}),Me(),Ne();var G=Pe(),ne=xe(G);{var ie=i=>{var u=Ie(),h=l(u),w=l(h),A=l(w),q=l(A);n(A),n(w);var k=c(w,2),E=c(l(k));n(k);var D=c(k,2),ce=c(l(D));n(D);var K=c(D,2),de=c(l(K));n(K),n(h);var Q=c(h,2),j=l(Q),F=l(j);ee(F),R(2),n(j);var H=c(j,2),I=l(H);ee(I),R(2),n(H);var L=c(H,2),N=l(L);U(()=>{e(),Oe(()=>{b(v)})}),Se(N,5,()=>p,Ee,(o,_)=>{var f=Fe(),J=l(f,!0);n(f);var T={};U(()=>{M(J,b(_)),T!==(T=b(_))&&(f.value=(f.__value=b(_))??"")}),y(o,f)}),n(N),R(4),n(L);var X=c(L,2);{var ve=o=>{var _=He();y(o,_)};Z(X,o=>{b(v)&&o(ve)})}var V=c(X,2),ue=c(V,2);n(Q),n(u),U((o,_,f,J,T)=>{M(q,`${o??""} ${_??""}`),M(E,` ${f??""}`),M(ce,` ${J??""}`),M(de,` ${T??""}`),$e(V,"aria-disabled",!b(s))},[()=>(S(d),e(),t(()=>d(e().temperature))),()=>(S(d),e(),t(()=>d(e().drink))),()=>(S(d),e(),t(()=>d(e().espresso))),()=>(S(d),e(),t(()=>d(e().milk))),()=>(S(d),e(),t(()=>d(e().flavor)))]),ae(F,()=>e().name,o=>z($,t(e).name=o,t(e))),P("input",F,()=>O(v,!1)),ae(I,()=>e().phone,o=>z($,t(e).phone=o,t(e))),P("input",I,()=>O(v,!1)),Ae(N,()=>e().time_slot,o=>z($,t(e).time_slot=o,t(e))),P("input",N,()=>O(v,!1)),P("click",V,se),P("click",ue,oe),y(i,u)},le=i=>{var u=Le();y(i,u)};Z(ne,i=>{e()?i(ie):i(le,!1)})}y(r,G),ye(),m()}export{Ye as component};
