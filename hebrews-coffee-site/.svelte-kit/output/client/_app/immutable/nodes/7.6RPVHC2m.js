import"../chunks/DsnmJJEf.js";import"../chunks/32AgLyXw.js";import{w as be,o as ge,a as M,e as P}from"../chunks/B9VogUKh.js";import{at as he,N as x,aw as we,B as ke,u as s,r as ye,ax as Me,p as Pe,ay as xe,az as Oe,aA as $e,aa as Se,a as O,d as Ae,k as $,Y as ee,f as j,c as i,b as t,s as l,ac as J,t as R,ab as Ee,i as b,a2 as S}from"../chunks/CednUaVI.js";import{i as re}from"../chunks/nEk7PoAX.js";import{e as Ne,u as d,b as ze,i as Te}from"../chunks/BhEDDVpo.js";import{r as ae,s as te}from"../chunks/DoY-lUry.js";import{i as je}from"../chunks/u60f9ghS.js";import{a as Ce,s as T,b as qe}from"../chunks/DS5nTQr6.js";import{g as se}from"../chunks/Dy2a0Pub.js";import{s as A,c as De}from"../chunks/hG6q-ZLG.js";import{b as U}from"../chunks/CFuzEx9C.js";function oe(r,a,g=a){var p=new WeakSet;he(r,"input",async e=>{var o=e?r.defaultValue:r.value;if(o=W(r)?Y(o):o,g(o),x!==null&&p.add(x),await we(),o!==(o=a())){var v=r.selectionStart,m=r.selectionEnd;r.value=o??"",m!==null&&(r.selectionStart=v,r.selectionEnd=Math.min(m,r.value.length))}}),(ke&&r.defaultValue!==r.value||s(a)==null&&r.value)&&(g(W(r)?Y(r.value):r.value),x!==null&&p.add(x)),ye(()=>{var e=a();if(r===document.activeElement){var o=Me??x;if(p.has(o))return}W(r)&&e===Y(r.value)||r.type==="date"&&!e&&!r.value||e!==r.value&&(r.value=e??"")})}function W(r){var a=r.type;return a==="number"||a==="range"}function Y(r){return r===""?null:+r}const Fe=!1,sr=Object.freeze(Object.defineProperty({__proto__:null,prerender:Fe},Symbol.toStringTag,{value:"Module"})),He=be([]),Le="https://hebrews-coffee-website.onrender.com";async function Ve(r){try{const a=await fetch(Le,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw new Error("Failed to add order");const g=await a.json();He.update(p=>[...p,g])}catch(a){console.error("Error adding order:",a)}}var Be=j("<option> </option>"),Ie=j("<p>Please enter name, phone number and pickup time</p>"),Je=j('<div class="confirm-window"><div class="confirm-details"><div><strong> </strong></div> <p><strong>Espresso:</strong> </p> <p><strong>Milk:</strong> </p> <p><strong>Flavor:</strong> </p></div> <div class="confirm-sidebar"><div class="customizer-select"><input id="name-input" type="text" required/> <span class="border-text">Enter Name:</span></div> <div class="customizer-select"><input id="phone-input" type="tel" required/> <span class="border-text">Enter Phone Number:</span></div> <div class="customizer-select"><select class="bg-none" required></select> <span class="drop-arrow"><img alt="Dropdown Arrow"/></span> <span class="border-text">Choose Pickup Time:</span></div> <!> <button class="bar-button">Place Order</button> <button class="bar-button">Edit Order</button></div></div>'),Re=j("<p>No order to confirm. Please go back and customize your drink.</p>");function or(r,a){Pe(a,!1);const[g,p]=Ce(),e=()=>qe(A,"$storedOrder",g),o=ee();let v=ee(!1),m=["9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM"];function ne(){const c=new Date;for(const u in m){const h=new Date,[w,E]=u.split(" "),[C,k]=w.split(":").map(Number);let N=C%12;if(E==="PM"&&(N+=12),h.setHours(N,k,0,0),h>c)return u}return m[m.length-1]}function ie(){if(!b(o)){$(v,!0);return}Ve(e()),De(),se(`${U}/place-order/${e().drink}/confirm/order-confirmation`)}function le(){console.log(e().drink);const c=e().drink.toLowerCase().replace(/ /g,"-");se(`${U}/place-order/${c}`)}ge(()=>{T(A,s(e).time_slot=ne(),s(e))}),xe(()=>e(),()=>{$(o,e()&&(e().name??"").toString().trim().length>0&&(e().phone??"").toString().trim().length>0)}),Oe(),je();var G=$e(),ce=Se(G);{var de=c=>{var u=Je(),h=i(u),w=i(h),E=i(w),C=i(E);t(E),t(w);var k=l(w,2),N=l(i(k));t(k);var q=l(k,2),ue=l(i(q));t(q);var K=l(q,2),pe=l(i(K));t(K),t(h);var Q=l(h,2),D=i(Q),F=i(D);ae(F),J(2),t(D);var H=l(D,2),L=i(H);ae(L),J(2),t(H);var V=l(H,2),y=i(V);R(()=>{e(),Ee(()=>{b(v)})}),Ne(y,5,()=>m,Te,(n,_)=>{var f=Be(),I=i(f,!0);t(f);var z={};R(()=>{M(I,b(_)),z!==(z=b(_))&&(f.value=(f.__value=b(_))??"")}),O(n,f)}),t(y);var X=l(y,2),me=i(X);t(X),J(2),t(V);var Z=l(V,2);{var _e=n=>{var _=Ie();O(n,_)};re(Z,n=>{b(v)&&n(_e)})}var B=l(Z,2),fe=l(B,2);t(Q),t(u),R((n,_,f,I,z)=>{M(C,`${n??""} ${_??""}`),M(N,` ${f??""}`),M(ue,` ${I??""}`),M(pe,` ${z??""}`),te(me,"src",`${U??""}/icons/simple_tailless_nav_arrow.svg`),te(B,"aria-disabled",!b(o))},[()=>(S(d),e(),s(()=>d(e().temperature))),()=>(S(d),e(),s(()=>d(e().drink))),()=>(S(d),e(),s(()=>d(e().espresso))),()=>(S(d),e(),s(()=>d(e().milk))),()=>(S(d),e(),s(()=>d(e().flavor)))]),oe(F,()=>e().name,n=>T(A,s(e).name=n,s(e))),P("input",F,()=>$(v,!1)),oe(L,()=>e().phone,n=>T(A,s(e).phone=n,s(e))),P("input",L,()=>$(v,!1)),ze(y,()=>e().time_slot,n=>T(A,s(e).time_slot=n,s(e))),P("input",y,()=>$(v,!1)),P("click",B,ie),P("click",fe,le),O(c,u)},ve=c=>{var u=Re();O(c,u)};re(ce,c=>{e()?c(de):c(ve,!1)})}O(r,G),Ae(),p()}export{or as component,sr as universal};
